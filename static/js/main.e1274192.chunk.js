(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{10:function(e,a,t){e.exports={makerShadow:"rgba(217, 217, 217, 1)",makerGreen:"#385461",makerLightGrey:"#e8e7e6",makerLightPink:"#ffeae8",makerBlack:"black",makerWhite:"white",makerColorful:"linear-gradient(166deg, rgba(237, 193, 211, 1) 0%,rgba(212, 149, 161, 1) 60%, rgba(162, 63, 63, 1) 100%, rgba(127, 188, 242, 1) 100%)",makerWheat:"wheat",card:"card_card__1py-W",dark:"card_dark__1FdRe",light:"card_light__1Cc6G",colorful:"card_colorful__2zruV",facephoto:"card_facephoto__3lSuC",info:"card_info__2Fslj",name:"card_name__31aE7",company:"card_company__3UM9t",title:"card_title__25_dG",email:"card_email__3uHYI",message:"card_message__2dRnZ"}},13:function(e,a,t){e.exports={makerBlack:"black",makerWhite:"white",form:"card_edit_form_form__2xQD4",input:"card_edit_form_input__uur0a",textarea:"card_edit_form_textarea__1-v1B",select:"card_edit_form_select__V3wH9",button:"card_edit_form_button__3Jpk4",fileInput:"card_edit_form_fileInput__3mXDK"}},14:function(e,a,t){e.exports={makerBlack:"black",makerWhite:"white",form:"card_add_form_form__1mJeN",input:"card_add_form_input__1s9KG",textarea:"card_add_form_textarea__3OTfu",select:"card_add_form_select__2br_K",button:"card_add_form_button__3PkX4",fileInput:"card_add_form_fileInput__R7REj"}},18:function(e,a,t){e.exports={makerBlack:"black",makerLightPink:"#ffeae8",makerLightGrey:"#e8e7e6",uploadbtn:"image_file_input_uploadbtn__1p9Fl",upload:"image_file_input_upload__1XX03",filename:"image_file_input_filename__2tWK3",pink:"image_file_input_pink__1V0O7",grey:"image_file_input_grey__68AiQ",loading:"image_file_input_loading__3OwEa",spin:"image_file_input_spin__1K71y"}},23:function(e,a,t){e.exports={makerGreen:"#385461",makerWhite:"white",makerLightGrey:"#e8e7e6",loginbox:"login_loginbox__3irYG",loginBody:"login_loginBody__1hYNG",btn:"login_btn__2fZmD"}},27:function(e,a,t){e.exports={makerGreen:"#385461",makerWhite:"white",makerBlack:"black",header:"header_header__v9FKw",header_txt:"header_header_txt__2fZ2I",logout:"header_logout__1MXam"}},28:function(e,a,t){e.exports={makerGreen:"#385461",makerWhite:"white",makerLightGrey:"#e8e7e6",makerBlack:"black",makerColorful:"linear-gradient(166deg, rgba(237, 193, 211, 1) 0%,rgba(212, 149, 161, 1) 60%, rgba(162, 63, 63, 1) 100%, rgba(127, 188, 242, 1) 100%)",makerLightPink:"#ffeae8",preview:"preview_preview__3lr-V",title:"preview_title__3zLS1",cardlist:"preview_cardlist__qOync"}},35:function(e,a,t){e.exports={makerGreen:"#385461",makerWhite:"white",makerLightGrey:"#e8e7e6",mediaQuery:"62rem",maker:"maker_maker__1Jsum",container:"maker_container__25Mis"}},36:function(e,a,t){e.exports={makerGreen:"#385461",makerLightGrey:"#e8e7e6",mediaQuery:"62rem",editor:"editor_editor__1nHIK",title:"editor_title__21REx"}},39:function(e,a,t){e.exports={makerLightGrey:"#e8e7e6",login:"app_login__2OuVL"}},40:function(e,a,t){e.exports={makerGreen:"#385461",makerWhite:"white",footer:"footer_footer__1lZIc"}},42:function(e,a,t){e.exports={makerGreen:"#385461",makerWhite:"white",button:"button_button__3_GL1"}},49:function(e,a,t){e.exports={makerWhite:"white",makerGrey:"#626262"}},61:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(1),c=t(2),i=t.n(c),o=t(38),l=t.n(o),s=(t(49),t(24)),u=t(5),_=t(39),m=t.n(_),d=t(40),f=t.n(d),j=Object(c.memo)((function(){return Object(r.jsx)("footer",{className:f.a.footer,children:"Code your dream"})})),b=t(27),p=t.n(b),h=Object(c.memo)((function(e){var a=e.onClickLogout;return Object(r.jsxs)("header",{className:p.a.header,children:[Object(r.jsx)("button",{onClick:a,className:p.a.logout,children:"Logout"}),Object(r.jsx)("img",{src:"/images/logo.png",alt:"header"}),Object(r.jsx)("p",{className:p.a.header_txt,children:"Business Card Maker"})]})})),O=t(23),g=t.n(O),k=function(e){var a=e.authService,t=Object(u.f)(),n=function(e){t.push({pathname:"/maker",state:{id:e}})},i=function(e){a.login(e.currentTarget.textContent).then((function(e){n(e.user.uid)})).catch((function(e){var a=e.message;alert(a)}))};return Object(c.useEffect)((function(){a.onAuthChange((function(e){e&&n(e.uid)}),[])})),Object(r.jsxs)("section",{className:g.a.loginbox,children:[Object(r.jsx)(h,{onLogout:!1}),Object(r.jsxs)("section",{className:g.a.loginBody,children:[Object(r.jsx)("h2",{children:"Login"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:Object(r.jsx)("button",{className:g.a.btn,onClick:i,children:"Google"})}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{className:g.a.btn,onClick:i,children:"Github"})})]})]}),Object(r.jsx)(j,{})]})},x=t(15),v=t(35),A=t.n(v),E=t(25),N=t(42),C=t.n(N),R=Object(c.memo)((function(e){var a=e.name,t=e.onClick;return Object(r.jsx)("button",{className:C.a.button,onClick:t,children:a})})),P=t(13),y=t.n(P),S=function(e){var a=e.FileInput,t=e.card,c=e.onUpdate,i=e.onDelete,o=t.name,l=t.company,s=t.title,u=t.email,_=t.message,m=t.theme,d=t.filename,f=t.fileurl,j=function(e){e.preventDefault(),c(Object(n.a)(Object(n.a)({},t),{},Object(E.a)({},e.currentTarget.name,e.currentTarget.value)))};return Object(r.jsxs)("form",{className:y.a.form,children:[Object(r.jsx)("input",{className:y.a.input,name:"name",type:"text",value:o,placeholder:"Name",onChange:j}),Object(r.jsx)("input",{className:y.a.input,name:"company",value:l,placeholder:"Company",onChange:j}),Object(r.jsxs)("select",{name:"theme",value:m,className:y.a.select,onChange:j,children:[Object(r.jsx)("option",{value:"dark",children:"Dark"}),Object(r.jsx)("option",{value:"light",children:"Light"}),Object(r.jsx)("option",{value:"colorful",children:"Colorful"})]}),Object(r.jsx)("input",{className:y.a.input,name:"title",value:s,placeholder:"Title",onChange:j}),Object(r.jsx)("input",{className:y.a.input,name:"email",value:u,placeholder:"Email",onChange:j}),Object(r.jsx)("textarea",{name:"message",value:_,onChange:j,className:y.a.textarea}),Object(r.jsx)("div",{className:y.a.fileInput,children:Object(r.jsx)(a,{onUpload:function(e){c(Object(n.a)(Object(n.a)({},t),{},{filename:e.name,fileurl:e.url}))},fileName:d,fileURL:f})}),Object(r.jsx)(R,{name:"Delete",onClick:function(){i(t)}})]})},I=t(43),w=t(14),T=t.n(w),B=Object(c.memo)((function(e){var a=e.FileInput,t=e.onAdd,n=Object(c.useRef)(),i=Object(c.useRef)(),o=Object(c.useRef)(),l=Object(c.useRef)(),s=Object(c.useRef)(),u=Object(c.useRef)(),_=Object(c.useRef)(),m=Object(c.useState)({fileName:null,fileURL:null}),d=Object(x.a)(m,2),f=d[0],j=d[1];return Object(r.jsxs)("form",{ref:n,className:T.a.form,children:[Object(r.jsx)("input",{ref:i,className:T.a.input,type:"text",placeholder:"Name",name:"name"}),Object(r.jsx)("input",{ref:o,className:T.a.input,placeholder:"Company",name:"company"}),Object(r.jsxs)("select",{ref:l,name:"theme",className:T.a.select,children:[Object(r.jsx)("option",{value:"dark",children:"Dark"}),Object(r.jsx)("option",{value:"light",children:"Light"}),Object(r.jsx)("option",{value:"colorful",children:"Colorful"})]}),Object(r.jsx)("input",{ref:s,className:T.a.input,placeholder:"title",name:"title"}),Object(r.jsx)("input",{ref:u,className:T.a.input,placeholder:"email",name:"email"}),Object(r.jsx)("textarea",{ref:_,name:"message",className:T.a.textarea,placeholder:"message"}),Object(r.jsx)("div",{className:T.a.fileInput,children:Object(r.jsx)(a,{onUpload:function(e){j({fileName:e.name,fileURL:e.url})},fileName:f.fileName})}),Object(r.jsx)(R,{name:"Add",onClick:function(e){e.preventDefault();var a={id:Object(I.a)(),name:i.current.value||"",company:o.current.value||"",theme:l.current.value,title:s.current.value||"",email:u.current.value||"",message:_.current.value||"",fileurl:f.fileURL||null,filename:f.fileName||null};n.current.reset(),j({fileName:null,fileURL:null}),t(a)}})]})})),D=t(36),L=t.n(D),F=function(e){var a=e.FileInput,t=e.cards,n=e.onAdd,c=e.onUpdate,i=e.onDelete;return Object(r.jsxs)("div",{className:L.a.editor,children:[Object(r.jsx)("h2",{className:L.a.title,children:"Card Maker"}),t&&Object.keys(t).map((function(e){return Object(r.jsx)(S,{FileInput:a,card:t[e],onUpdate:c,onDelete:i},e)})),Object(r.jsx)(B,{card:t,onAdd:n,FileInput:a})]})},G=t(10),U=t.n(G);function W(e){switch(e){case"dark":return U.a.dark;case"light":return U.a.light;case"colorful":return U.a.colorful;default:throw new Error("unknown theme : ".concat(e))}}var K=Object(c.memo)((function(e){var a=e.card,t=a.name,n=a.company,c=a.title,i=a.email,o=a.message,l=a.theme,s=a.fileurl||"images/default_logo.png";return Object(r.jsxs)("li",{className:"".concat(U.a.card," ").concat(W(l)),children:[Object(r.jsx)("img",{className:U.a.facephoto,src:s,alt:"face"}),Object(r.jsxs)("div",{className:U.a.info,children:[Object(r.jsx)("h1",{className:U.a.name,children:t}),Object(r.jsx)("p",{className:U.a.company,children:n}),Object(r.jsx)("p",{className:U.a.title,children:c}),Object(r.jsx)("p",{className:U.a.email,children:i}),Object(r.jsx)("p",{className:U.a.message,children:o})]})]})})),Y=t(28),H=t.n(Y),J=function(e){var a=e.cards;return Object(r.jsxs)("div",{className:H.a.preview,children:[Object(r.jsx)("h2",{className:H.a.title,children:"Card Preview"}),a&&Object(r.jsx)("ul",{className:H.a.cardlist,children:Object.keys(a).map((function(e){return Object(r.jsx)(K,{card:a[e]},e)}))},a.key)]})},M=Object(c.memo)((function(e){var a=e.authService,t=e.FileInput,i=e.DBService,o=Object(u.f)(),l=Object(u.f)().state,s=Object(c.useState)({}),_=Object(x.a)(s,2),m=_[0],d=_[1],f=Object(c.useState)(l&&l.id),b=Object(x.a)(f,2),p=b[0],O=b[1],g=Object(c.useCallback)((function(){a.logout()}),[a]);Object(c.useEffect)((function(){a.onAuthChange((function(e){e?O(e.uid):o.push("/")}))}),[a,o]),Object(c.useEffect)((function(){if(p){var e=i.load(p,(function(e){d(e)}));return function(){return e()}}}),[p,i]);var k=function(e){d((function(a){var t=Object(n.a)({},a);return t[e.id]=e,t})),i.save(p,e)};return Object(r.jsxs)("section",{className:A.a.maker,children:[Object(r.jsx)(h,{onClickLogout:g}),Object(r.jsxs)("section",{className:A.a.container,children:[Object(r.jsx)(F,{FileInput:t,cards:m&&m,onAdd:k,onUpdate:k,onDelete:function(e){d((function(a){var t=Object(n.a)({},a);return delete t[e.id],t})),i.delete(p,e)}}),Object(r.jsx)(J,{cards:m&&m})]}),Object(r.jsx)(j,{})]})}));var V=function(e){var a=e.FileInput,t=e.authService,n=e.DBService;return Object(r.jsx)("div",{className:m.a.login,children:Object(r.jsx)(s.a,{children:Object(r.jsxs)(u.c,{children:[Object(r.jsx)(u.a,{path:["/","/login"],exact:!0,children:Object(r.jsx)(k,{authService:t})}),Object(r.jsx)(u.a,{path:"/maker",children:Object(r.jsx)(M,{authService:t,FileInput:a,DBService:n})})]})})})},q=t(19),Z=t(20),z=t(29),X=(t(54),t(56),{apiKey:"AIzaSyB_ysAG8kW-fJjHMVlBbJZ_3Pqht4U0Fog",authDomain:"business-card-maker-9170e.firebaseapp.com",projectId:"business-card-maker-9170e",databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/card-maker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyB_ysAG8kW-fJjHMVlBbJZ_3Pqht4U0Fog",REACT_APP_FIREBASE_AUTH_DOMAIN:"business-card-maker-9170e.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"business-card-maker-9170e",REACT_APP_FIREBASE_DB_URL:"https://business-card-maker-9170e-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_BUCKET:"business-card-maker-9170e.appspot.com",REACT_APP_CLODINARY_NAME:"dnlqjyugw",REACT_APP_CLODINARY_API_KEY:"655915623282321",REACT_APP_CLODINARY_PRESET:"ftwxooeu"}).REACT_APP_CLODINARY_DB_URL,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/card-maker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyB_ysAG8kW-fJjHMVlBbJZ_3Pqht4U0Fog",REACT_APP_FIREBASE_AUTH_DOMAIN:"business-card-maker-9170e.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"business-card-maker-9170e",REACT_APP_FIREBASE_DB_URL:"https://business-card-maker-9170e-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_BUCKET:"business-card-maker-9170e.appspot.com",REACT_APP_CLODINARY_NAME:"dnlqjyugw",REACT_APP_CLODINARY_API_KEY:"655915623282321",REACT_APP_CLODINARY_PRESET:"ftwxooeu"}).REACT_APP_CLODINARY_BUCKET}),Q=z.a.initializeApp(X),$=Q.auth(),ee=Q.database(),ae=new z.a.auth.GoogleAuthProvider,te=new z.a.auth.GithubAuthProvider,ne=function(){function e(){Object(q.a)(this,e)}return Object(Z.a)(e,[{key:"login",value:function(e){var a=this.getProvider(e);return $.signInWithPopup(a)}},{key:"logout",value:function(){return $.signOut()}},{key:"onAuthChange",value:function(e){$.onAuthStateChanged((function(a){e(a)}))}},{key:"getProvider",value:function(e){switch(e){case"Google":return ae;case"Github":return te;default:throw new Error("not supported provider: ".concat(e))}}}]),e}(),re=t(21),ce=t.n(re),ie=t(26),oe=function(){function e(){Object(q.a)(this,e),this.url="https://api.cloudinary.com/v1_1/".concat("dnlqjyugw","/image/upload")}return Object(Z.a)(e,[{key:"upload",value:function(){var e=Object(ie.a)(ce.a.mark((function e(a){var t,n;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",a),t.append("api_key","655915623282321"),t.append("upload_preset","ftwxooeu"),e.next=6,fetch(this.url,{method:"POST",body:t});case 6:return n=e.sent,e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()}]),e}(),le=t(18),se=t.n(le),ue=Object(c.memo)((function(e){var a=e.imageService,t=e.onUpload,n=e.fileName,i=Object(c.useRef)(),o=Object(c.useState)(!1),l=Object(x.a)(o,2),s=l[0],u=l[1],_=function(){var e=Object(ie.a)(ce.a.mark((function e(n){var r;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,a.upload(i.current.files[0]);case 3:r=e.sent,u(!1),t({name:r.original_filename,url:r.url});case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:se.a.uploadbtn,children:[Object(r.jsx)("input",{ref:i,type:"file",name:"files[]",className:se.a.upload,accept:"image/*",onChange:_}),!s&&Object(r.jsx)("span",{className:"".concat(se.a.filename," ").concat(n?se.a.pink:se.a.grey),children:n||"No file"}),s&&Object(r.jsx)("div",{className:se.a.loading})]})})),_e=function(){function e(){Object(q.a)(this,e)}return Object(Z.a)(e,[{key:"save",value:function(e,a){ee.ref("".concat(e,"/cards/").concat(a.id)).set(a)}},{key:"delete",value:function(e,a){ee.ref("".concat(e,"/cards/").concat(a.id)).remove()}},{key:"load",value:function(e,a){var t=ee.ref("".concat(e,"/cards"));return t.on("value",(function(e){var t=e.val();t&&a(t)})),function(){return t.off()}}}]),e}(),me=new ne,de=new oe,fe=new _e,je=Object(c.memo)((function(e){return Object(r.jsx)(ue,Object(n.a)(Object(n.a)({},e),{},{imageService:de}))}));l.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(V,{authService:me,FileInput:je,DBService:fe})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.e1274192.chunk.js.map